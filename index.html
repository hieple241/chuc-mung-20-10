<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíñ Qu√† T·∫∑ng Tinh T·∫ø 20/10 Cho Em Y√™u üíñ</title>
    <!-- T·∫£i Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- T·∫£i th∆∞ vi·ªán Three.js cho hi·ªáu ·ª©ng 3D (d√πng cho Confetti) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- T·∫£i font Inter (m·∫∑c ƒë·ªãnh) v√† Great Vibes cho ti√™u ƒë·ªÅ l√£ng m·∫°n -->
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* C√†i ƒë·∫∑t Font ch√≠nh */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #fce4ec 0%, #f06292 100%);
            background-size: 400% 400%; /* K√≠ch th∆∞·ªõc l·ªõn h∆°n cho hi·ªáu ·ª©ng pulse */
            animation: gradientPulse 15s ease infinite; /* Hi·ªáu ·ª©ng chuy·ªÉn m√†u n·ªÅn */
            overflow: hidden; 
        }
        @keyframes gradientPulse {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* C√†i ƒë·∫∑t Font ri√™ng cho ti√™u ƒë·ªÅ ch√≠nh */
        .title-script {
            font-family: 'Great Vibes', cursive;
        }

        /* Hi·ªáu ·ª©ng Confetti (d√πng cho c√°c ph·∫ßn t·ª≠ 3D) */
        #confetti-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }

        /* Hi·ªáu ·ª©ng √°nh s√°ng nh·∫•p nh√°y cho text */
        .glow-text {
            text-shadow: 0 0 10px #fce4ec, 0 0 20px #f8bbd0;
            animation: pulse 2s infinite alternate;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(1.02); opacity: 0.95; }
        }

        /* Hi·ªáu ·ª©ng tr√°i tim bay */
        .heart-float {
            position: absolute;
            bottom: -50px;
            font-size: 2rem;
            opacity: 0;
            animation: floatUp var(--duration) linear infinite;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(0.8) rotate(0deg); opacity: 0.8; }
            50% { opacity: 1; }
            100% { transform: translateY(-100vh) scale(1.2) rotate(30deg); opacity: 0; }
        }

        /* Custom Card Effect */
        .greeting-card {
            position: relative;
            backdrop-filter: blur(15px);
            background-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
            animation: slideIn 1.5s ease-out;
            overflow: hidden;
        }
        
        /* Style cho L·ªõp ph·ªß Th∆∞ (th√™m clip-path ƒë·ªÉ m√¥ ph·ªèng m√©p phong b√¨) */
        #cover {
            background-color: #ec4899;
            transform: none;
            transition: opacity 1s ease-out, transform 1s ease-out;
            pointer-events: auto;
            /* T·∫°o ƒë∆∞·ªùng c·∫Øt m√¥ ph·ªèng m√©p phong b√¨ */
            clip-path: polygon(0% 0%, 100% 0%, 100% 95%, 50% 100%, 0% 95%); 
            border-radius: 1.5rem;
        }

        /* Style khi L·ªõp ph·ªß ƒë√£ M·ªü (tr∆∞·ª£t ra ngo√†i theo ƒë∆∞·ªùng c·∫Øt) */
        #cover.opened {
            opacity: 0;
            transform: translateY(-110%) scale(1.1); /* Tr∆∞·ª£t xa h∆°n ƒë·ªÉ l·ªô ph·∫ßn d∆∞·ªõi */
            pointer-events: none;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(50px) scale(0.9); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4">

    <!-- Container cho hi·ªáu ·ª©ng Confetti 3D -->
    <div id="confetti-container"></div>

    <!-- V√πng ch·ª©a c√°c tr√°i tim bay CSS -->
    <div id="heart-spawner"></div>

    <!-- Th·∫ª Ch√∫c M·ª´ng Si√™u X·ªãn -->
    <div id="card-wrapper" class="greeting-card max-w-lg w-full p-8 md:p-12 rounded-3xl text-white text-center z-20">
        
        <!-- 1. COVER (Ph·∫ßn n√†y s·∫Ω hi·ªán ban ƒë·∫ßu) -->
        <div id="cover" class="absolute inset-0 flex flex-col items-center justify-center cursor-pointer z-30">
            <!-- ƒê√£ lo·∫°i b·ªè loading-message -->
            <p id="open-message" class="text-3xl md:text-4xl font-bold text-white mb-4 animate-bounce">
                üíå ·∫§n v√†o ƒë√¢y ƒë·ªÉ m·ªü qu√† üíå
            </p>
            <p class="text-lg text-pink-100">B√≠ m·∫≠t ng·ªçt ng√†o ƒëang ch·ªù em...</p>
        </div>

        <!-- 2. MAIN CONTENT (Ph·∫ßn n√†y s·∫Ω l·ªô ra sau khi m·ªü) -->
        <div id="main-content" class="opacity-0 transition-opacity duration-1000">
            <h1 class="title-script text-5xl md:text-6xl font-bold mb-4 glow-text text-[#fce4ec]">
                üíê Ch√∫c M·ª´ng 20/10 üíê
            </h1>

            <p class="text-xl md:text-2xl font-semibold mb-6 text-pink-100">
                G·ª≠i t·ªõi em iu c·ªßa anh!
            </p>

            <div class="bg-white/30 p-6 rounded-xl shadow-lg transform hover:scale-[1.01] transition duration-500 ease-in-out">
                <p class="text-gray-800 text-lg md:text-xl italic">
                    "H√¥m nay l√† ng√†y c·ªßa em, v√† m·ªói ng√†y b√™n em ƒë·ªÅu l√† m·ªôt m√≥n qu√†. 
                    Ch√∫c c√¥ g√°i tuy·ªát v·ªùi nh·∫•t th·∫ø gi·ªõi lu√¥n r·∫°ng r·ª°, xinh ƒë·∫πp, 
                    v√† h·∫°nh ph√∫c tr·ªçn v·∫πn. M·ªçi ƒëi·ªÅu t·ªët ƒë·∫πp nh·∫•t ƒë·ªÅu d√†nh cho em."
                </p>
            </div>

            <div class="mt-8">
                <p class="text-2xl md:text-3xl font-bold text-yellow-300 glow-text">
                    üíñ Y√™u Em R·∫•t Nhi·ªÅu!üíñ
                </p>
            </div>
        </div>
    </div>
    
    <!-- JavaScript cho Hi·ªáu ·ª©ng Confetti v√† Tr√°i tim -->
    <script>
        const cover = document.getElementById('cover');
        const mainContent = document.getElementById('main-content');
        const heartSpawner = document.getElementById('heart-spawner');
        const heartIcons = ['üíñ', '‚ù§Ô∏è', 'üå∏', '‚ú®'];
        
        /* =================================
           LOGIC M·ªû TH∆Ø (CH·ªà HO·∫†T ·∫¢NH)
           ================================= */
        function openCard() {
            // NgƒÉn ng∆∞·ªùi d√πng click nhi·ªÅu l·∫ßn
            cover.removeEventListener('click', openCard);

            // 1. K√≠ch ho·∫°t animation m·ªü cover (tr∆∞·ª£t l√™n v√† bi·∫øn m·∫•t)
            cover.classList.add('opened');
            
            // 2. Hi·ªán n·ªôi dung ch√≠nh sau 500ms
            setTimeout(() => {
                mainContent.classList.remove('opacity-0');
            }, 500);
        }

        /* =================================
           HI·ªÜU ·ª®NG TR√ÅI TIM BAY (CSS)
           ================================= */
        function spawnHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart-float';
            
            const icon = heartIcons[Math.floor(Math.random() * heartIcons.length)];
            heart.innerHTML = icon;

            const left = Math.random() * 100;
            const duration = 8 + Math.random() * 8; 
            const size = 0.8 + Math.random() * 0.5;

            heart.style.left = `${left}vw`;
            heart.style.setProperty('--duration', `${duration}s`);
            heart.style.fontSize = `${1 + Math.random() * 1.5}rem`;
            heart.style.opacity = Math.random() * 0.8 + 0.2; 

            heartSpawner.appendChild(heart);

            setTimeout(() => heart.remove(), duration * 1000);
        }

        setInterval(spawnHeart, 500);


        /* =================================
           HI·ªÜU ·ª®NG CONFETTI 3D (Three.js)
           ================================= */
        const confettiContainer = document.getElementById('confetti-container');
        let scene, camera, renderer, confetti = [];

        function initConfetti() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ alpha: true });
            
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0x000000, 0); 
            confettiContainer.appendChild(renderer.domElement);

            camera.position.z = 50;

            scene.add(new THREE.AmbientLight(0xffffff, 0.5));
            const pointLight = new THREE.PointLight(0xffffff, 1);
            pointLight.position.set(10, 10, 10);
            scene.add(pointLight);
        }

        function createConfettiPiece() {
            const colors = [0xffc0cb, 0xffd700, 0xffffff, 0xff69b4];
            const geometry = new THREE.BoxGeometry(0.5, 0.05, 0.5);
            const material = new THREE.MeshPhongMaterial({ 
                color: colors[Math.floor(Math.random() * colors.length)],
                shininess: 80 
            });
            const piece = new THREE.Mesh(geometry, material);

            piece.position.x = (Math.random() - 0.5) * 50;
            piece.position.y = 30 + Math.random() * 10;
            piece.position.z = (Math.random() - 0.5) * 20;

            piece.rotationSpeed = new THREE.Vector3(
                Math.random() * 0.1,
                Math.random() * 0.1,
                Math.random() * 0.1
            );
            
            piece.velocity = 0.1 + Math.random() * 0.05;

            scene.add(piece);
            confetti.push(piece);
        }

        function animate() {
            requestAnimationFrame(animate);

            confetti.forEach(piece => {
                piece.position.y -= piece.velocity;
                
                piece.rotation.x += piece.rotationSpeed.x;
                piece.rotation.y += piece.rotationSpeed.y;
                piece.rotation.z += piece.rotationSpeed.z;

                if (piece.position.y < -30) {
                    piece.position.y = 30 + Math.random() * 10;
                    piece.position.x = (Math.random() - 0.5) * 50;
                }
            });

            renderer.render(scene, camera);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        window.addEventListener('resize', onWindowResize);


        // Kh·ªüi t·∫°o v√† ch·∫°y hi·ªáu ·ª©ng 3D khi trang t·∫£i xong
        window.onload = function () {
            initConfetti();
            for (let i = 0; i < 100; i++) {
                createConfettiPiece();
            }
            animate();

            // G·∫Øn s·ª± ki·ªán click ngay l·∫≠p t·ª©c
            if (cover) {
                cover.addEventListener('click', openCard);
            }
        }

        /* X·ª≠ l√Ω l·ªói Firebase (Gi·ªØ nguy√™n) */
        try {
            if (typeof __app_id !== 'undefined') {
                const appId = __app_id;
                console.log(`App initialized with ID: ${appId}`);
            }
        } catch (e) {
            console.error("Firebase init skipped as this is a front-end greeting page.", e);
        }
    </script>
</body>
</html>
